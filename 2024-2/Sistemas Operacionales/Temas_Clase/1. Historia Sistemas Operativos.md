# 1. Historia Sistemas Operativos


## La tercera generación (1965 a 1980): Circuitos integrados y multiprogramacio

A principio de la decada de 1960, la mayoria de los fabricantes de computadoras tenian dos lineas de productos distintas e incopatibles. Por una parte estaban las computadoras cientificas a gran escala orientas a palabras, como la 7094, que se utilizaban para calculos numericos en ciencia e ingenieria. Por otro lado, estaban las computadoras comerciales orientadas a caracteres, como la 1401, que utilizaban ampliamente para ordenar cintas e imprimir datos en los bancos y las compañias de seguros.

Desarrollar y dar mantenimeinto a dos lineas de productos completamente distintos era una propuesta costosa para los fabricantes. Ademas, muchos nuevos clientes de computadoras necesitaban al principio un equipo pequeño, pero mas adelante ya no era suficiente y deseaban una maquina mas grande que pudiera ejecutar todos los programas anteriores, pero con mayor rapidez.

IBM intento resolver ambos problemas de unsolo golpe con la introduccion de la line de computadoras Syste/360. La 360 era una serie de maquinas compatibles con el sofware, que variaban desde un tamaño similar a la 1401 hasta algunas eran mas potentes que la 7094. Las maquinas solo diferean en el precio y rendimiento (maxima memoria, velocidad de procesador, numero de dispositivos de E/S permitidos, etc). Como todas las maquinas tenian la misma arquitectura y el mismo conjunto de instrucciones, los programas escritos par una maquina podian ejecutarse en todas las demas, por lo menos en teoria. Lo que es mas, la 360 se diseño para manejar tanto la computacion cientifica (es decir, numerica) como comercial. Por ende, una sola familia de maquinas podia satisfacer las necesidades de todos los clientes. EN los años siguientes, Mediante el uso de la tecnologia moderna, IBM ha desarrollado sucesores compatibles con la linea 360 , alos cuales se le conoce como modelos 370,4300,3080,3090. La series zSeries es el descendiente mas reciente de esta linea, aunque diverge considerablemente del original.

La IBM 360 fue la primera linea importante de computadoras en utilizar circuitos integrados (ICs) (a  pequeña escala), con lo cual se pudo ofrecer una mayor ventaja de precio/rendimiento en comparacion con las maquinas de segunda generacion, las cuales fueron construidas a partir de trasistores individuales. Su exito fue inmediato y la ide de una familia de computadoras compatibles pronto fue adoptada por todos los demas fabricates importates. Los decendientes de esta maquinas se siguen utilizando hoy dia en centros de computo. En la actualidad se utilizan con frecuencia para manejar base de datos enormes (Por ejmplo, para sistemas de recervaciones de aerolineas) o como servidores para sitios de World Wide Web que deben procesar miles de solicitudes en segundos.

La mayor fortaleza de la idea de una sola familia fue al mismo tiempo su mayor deblidad. La intencio era que todo el software, incluyendo al sistema operativo OS/360, funcionara en todos los modelos. Debia ejecutarse en los sitemas pequeños, que por lo general solo remplazaban a los 1401 que copiaba tarjetas a cinta, y en los sistemas muy grandes, que a menudo reemplazaban a las 7094, que realizaba predicciones del clima y otros calculos pesados. Tenia que ser buenos en sistemas con pocos perifericos y en sistemas con muchos. Tenia que funcionar en ambos entornos comerciales y cientificos. Por encima de todo, tenia que ser eficiente para todos estos usos distintos.

No habia forma que IBM (o cualquier otra) Pudiera escribir una pieza de software que cumpliera con todos esto requerimientos en conflicto. El resultado fue un enorme y extraordinariamente compejo sistema operativo, tal vez de dos o tres ordenes de magnitud mas grade que el FMS. Consistia en millones de lines de lenguaje ensablador escrito por miles de programadores, con miles de errores, los cuales requerian un flujo continuo de nuevas versiones en un inteno por corregirlos. Cada nueva version corregia algunos errores e introdicia otros, por lo que probablemente el numero de errores permaneciera constante en el tiempo.

Fred Brooks, uno de los diseñadores del OS/360, escribio posteriormente un libro ingenioso e incisivo (Brooks, 1996) que describia sus experiencias con el OS/360. Aunque seria imposible resumir el libro aqui. Basta con decir que la portada muestra una manada de bestias prehistoricas atrapadas en un pozo de brea. La portada de Silberschatz y coautores (2005)
muestra un punto de vista similar acerca de que los sistemas operativos son como dinosaurios.
A pesar de su enorme tamaño y sus problemas, el OS/360 y los sistemas operativos similares de tercera generacion producidos por otros fabricantes de computadoreas en realidad dejaban razonablemente satisfechos a la mayoria de clientes. Tambien popularizaron varias tecnicas clave ausentes en los sistemas operativos de seguda generacion, Quiza la mas importante de esta fue la multiprogramacion. En la 7094, cuando el trabajo actua se detenia para esperar a que se completara una operacion con cinta u otro dispositivo de E/S , la CPU simplemente permanecia inactiva hasta termianr la operacion de E/S. Con los calculos cientificos que requieren un uso intensivo de la CPU, la E/S no es frecuente, por lo que este tiempo desperdiciado no es considerable,, COn el procesamiento de datos comerciales, el tiempo de espera de las operaciones de E/S puede ser a menudo  de 80 a 90 porciento del tiempo total, por lo que debia hacerse algo para evitar que la (costosa) CPU este inactiva por mucho tiempo.

La solucion que surgio fue paricionar la memoria en varias piezas, con un trabajo distinto en cada particion, como se muestra en la figura , mientras que un trabajo espera a que se completara una operacion de E/S, otro podira esta usando la CPU. Si puediera contenerse suficientes trabajos en memoria principal al mismo tiempo, la CPU podria estar ocupada casi 100 por ciento del tiempo. Para tener varios trabajos de forma segura en la memoria a la vez, se requiere hardware especial para proteger cada trabajo y evitar que los otros se entrometa y malogren; el 360 y los demas sistemas de tercera generacion estaban equipados con este hardware.


Otra caracteristicas importante de los sistemas operativos de tercera generacion fu la capacidad para leer trabajos en tarjetas y colocarlos en disco tanpronto como se llevaban al cuarto de computadoras. Asi, cada vez que terminaba un trabajo en ejecucion, el sistema operativo podia gargar una nuevo trabajo del disco en la partcion que entoces estaba vacia y lo ejecutaba. A esta tecnica se le conoce como spooling (Simultaneous Peripheral Operation On Line) operacion periferica simultanea en linea, y tambien se utilizo para las operaciones de salida. COn el spooling, las maquinas 1401 no era ya necesarias y desaparecio la mayor parte del trabajo de transportar las cintas.

Aunque los sitemas operativos de tercera generacion eran apropiados para los calculos cientificos extensos y las ejecuciones de procesamiento de datos comerciales masivos, seguian siendo en esencia sistemas de procesamiento por lotes. Muchos progrmadores añoraban los dias de la primera generacion en los que tenian toda la maquina para ellos durante unas cuantas horas, por lo que podian depurar sus programas con rapidez, Con los sistemas de tercera generacion, el tiempo que transcurriea entre enviar un trabajo y recibir de vuelta la salida era comunmente de varias horas, por lo que una sola coma mal colocada podia ocasionar que fallara la complilacion, y el programador desperdiciara la mitad del dia.

Este deseo de obtener un tiempo rapido de respuesta allano el camino para el tiempo compartido (timesharing), una variante de la multiprogramacion donde cada usuario tenia una terminal en linea. En un sitema de tiempo compartido, si 20 usuarios estan conectados y 17 de ellos estan pensando en dar un paseo o tomar cafe, la CPU se puede asignar por turno a los tres trabajos que desean ser atendidos. Como las personas que depuran programas generalmente envia comandos cortos (Por ejemplo, compilar un procedimento de cinco hojas) en vez de largos (Por ejemplo, ordenar un archivo con un millon de registros), la computadora puede proporcionar un servicio rapido en segundo plano, cuando la CPU estaria inactiva de otra manera. El primer sistema de tiempo compartido de proposito general, conocido como CTSS (Compatible Time Sharing System) Sistama compatible de tiempo compartido, se desarrolo en el M.I.T en una 7094 modificada. Sin embargo, en realidad el tiempo compartido no se popularizo sino hasta que el hardware de proteccion necesario se empezo a utilizar ampliamente durante la tercera generacion.

Despues del exito del sistema CTSS, el MIT  Bell Labs y General Electric decidieron emprender el desarrolo de una utileria para computadora, una maquina capaz de servir a varios cientos de usuarios simultaneos de tiempo compartido. Su modelo fue el sistema de electircidad cuando se necesita energia solo hay que conectar un contacto a la pared y dentro de lo raxonable, toda la energia que se requiera estar ahi. Los diseñadores del sitema conocido como MULTICS (MULTiplexed Information and Computing Service) Servico de Informaciony COmputo MULTiplexado, imaginaro una enrme maquina que proporcionaba poder de computo a todos los usuarios en el area de Boston. La idea de que solo 40 años despues, se vendieran por millones maquinas 10000 veces mas rapidas que su mainframe GE-645 ( a un precio muy debajod e los 1000 dolares) era pura ciencia ficcion. Algo asi como la idea de que en estod dis existiera un trasatantico supersonico por debajo del agua.

MULTICS fue un exito parcial. Se diseño para dar soporte a cientos de usuarios en una maquina que era solo un poco mas potente que un PC basada en el Intel 386, aunque tenia muchas mas capacidades de E/S. Esto no es tan disparatdo como parece, ya que las personas sabian como esvribri pequeños programas t eficientes en esos dias, una habilidad que se ha perdido con el tiempo.
Huno muchas razones por las que MULTICS no acparo la atencion mundial una de elleas fue que estaba escritop en PL/I y el compilador de PL/I se demoro por años, ademas de que apenas funcionaba cuando por fin llego. Aparte de eso MULTICS era un sistema demasiado ambicioso para su epoca, algo muy parecido a la maquina analitica de Charles Babbege en el siglo XIX.
Ora resumir esta lagra historia MULTICS intordujo mucgas ideas seminales en la literatura de las computadoreas, pero convertirlas en un producto serio y con exito comercial importaten era algo mucho mas dificil de lo que cualquiera hubiera esperado. Bell Labs se retiro del proyecto y General Electric dejo el negocio de als computadoras por completo. Sin embargo el MIT persistio y logro hacer en un momento dado que MULTICS funcionara. Al final la compañia que compro el negoci de computadoras GE (Honeywell) lo vendio como un porducto comercial y fue intalado por cerca de 80 compañias y universidade importantes a nivel mundial. Aunque en numero pequeño los usuario MULTICS era muy leales. Por ejemplo Gneneral Motors, Ford y la Agencia de Seguridad Nacional de los estados unidos deconectaro sus sistemas MULTICS  solo hasta la epoca finales de los años 90. 30 años despues de su presentacion en el mercado y de tratar durante años de hacer que honeywell actualizara el hardware.

Por ahora, el concept de una utileria para computadora se ha disipado, pero tal vez regrese en forma de servidores masivos de Internet centralizados a los que se conecten maquinas de usuario relativamente tontas, donde la mayoria del trabajo se realiza en los servidores grandes. Es probable que la motivacion en este caso sea que la mayoria de las personas no desean administrar un sistema de computo cada vez mas complejo y melindroso, y prefieren delegar esa tarea a un equipo de profesionales que trabajen para la compañia que operan el servidor. El comercio electronico ya esta evolucionando en esta direccion, en dodne varias compañias operan centros comerciales electronicos en servidores multiprocesador a lo que se conectan las maquinas clientes simples, algo muy parecido al diseño de MULTICS.

A pesar de la carencia de exito comercial, MULTICS tuvo una enorme influencia en los sistemas operativos subsecuentes. Se describe en varios articulos y en un libro (Corbato y colaboradores 1972) 

Otro desarrolo importante durante la tercera generacion fue el incleible crecimiento de las minicomputadoreas, empezando con la DEP- PDP-1 la PDP-1 tenia solo 4K de palabra de 18 bits, pero a 12000 por maquina se vendio como pan caliente. Para cierta clase de trabajo no numerico, era casi tan rapida como 7094 y dio origne a una nueva industria. A este minicomputadora le siguio rapidamente una serie de otras PDP (A diferencia de la familia de IBM, todas eran incompatibles), culminando con la PDP-11.

Posteriormente, Ken Thompsonm uno de los cientificos de computo en Bell Labas que trabajo en el proyecto MULTICS, encontor una pequeña minicompitadora PDP-7 que naie estaba usando se dispuso a escribir una verion de MULTICS para un solo usuario. Mas adelante, este trabajo se convirtio en el sistema operativo UNIX que se hizo popular en el mundo academico, las agencias gubernamentales y muchas compañias.

La historia de UNIX ya ha sido contada en muchos otros libros, Debido a que el codigo fuente de UNIX estaba disponible ampliamente, varias organizaciones desarrollaron sus porpias versiones( Incompatibles entre si), lo cual produjo un caos. Se desarrollaron dos verisones principales System V de AT&T y BSD( Berkeley Software Distribution) de la unviersidad de california en Berkeley. Esta versiones tenian tambien variantes menore. Para que fuera posible escribir programas que pudieran ejecutarse en cualquier sistema UNIX, el IEEE desarrolo un estadar para UNIX conocido como POSIX, con el que la mayoria de versiones de UNIX actuales cumplen. POSIX define una interdaz minima de llamadas al sistema a la que los sitemas UNIX deben conformarse. De hecho, algunos de otros sistemas operativos tambien adminte ahora la interfaz POSIX.
Como agragado, vale la pena mensionar que en 1987 el autor libero un pequeño clon de UNIX conocido como MINIX, con fines educativos. EN cuanto a su funcionalidad, MINIX es muy similar a UNix , incluyendo el soporte para POSIX. Desde esa epoca, la version original ha evolucionado en MINIX3, que es altamente modular y esta enfocada a presentar una mytt alta confiabilidad. Tiene la habilidad de detectar y reemplazar modulos con fallas o unculso inutukizables ( como los dispositivos controladores de E/S) al instante, sin necesidad de reiniciar y sin perturbar a los programas en ejecucion. Tambien hay disponible un libro que describe su operacion interna y contien un listado de codigo fuente en un apendice. EL sistema MINIX 3 esta disponible de forma gratuita.

El deseo de una verion de produccion gratuita de MINIX llevo a un estudiante finlades, llamado Linus Torvalds, a escribir Linux. Este sistema estaba inspirado por MINIX, ademas de que fue desarrollado en este sistema y originalmente ofrecia soporte para varias caracteristicas de MINIX (Por ejemplo, el sitema de archivos de MINIX). Desde entoces se ha extendido de muchas formas, pero todavia retiene ciera parte de su estrucutura subyacente comun para MINIX y UNIX.  

